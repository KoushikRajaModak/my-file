
@{
    ViewBag.Title = "Maintenance_View";
}

<head>


    <style type="text/css">
        .xcointainer {
            height: 91%;
            width: 86%;
            position: fixed;
            /*z-index: 1;*/
            top: 70px;
            left: 13%;
            border-radius: 10px;
            /*background-color: white;*/
            /*overflow-x: hidden;*/
            /*background-image: url('../../image/intersection.png');*/
            /*display:flex;*/
            /*background-image: url('../../image/backgroundimage2.jpg');*/
        }

        .xtopcontainer {
            /*display: flex;*/
            /*border: 2px rebeccapurple solid;*/
        }

        .xhead {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 16px;
            background-color: #304ffc;
            color: white;
            border-radius: 7px;
            padding: 2px 3px 13px 33px;
            margin: 1% 1% 1% 1%;
            height: 20px;
            text-align: center;
        }

        .xBtnSet {
            width: 40%;
            height: 115px;
            border-radius: 7px;
            background-color: white;
            display: flex;
        }

        .xbtn {
            width: 12%;
            height: 100px;
            position: relative;
            margin: 1%;
            margin-left: 2.7%;
            /* border: 2px rebeccapurple solid;*/
        }

        .xbtn1 {
            width: 12%;
            height: 100px;
            position: absolute;
            margin: 1%;
            margin-left: 29.7%;
            /* border: 2px rebeccapurple solid; */
            margin-top: -116px;
        }

        .xbtn .xibtn {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 22px;
            color: white;
            background-color: #1778b7;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
            position: absolute;
            text-align: inherit;
            border: 2px rebeccapurple solid;
        }

        .xbtn1 .xibtn1 {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 22px;
            color: white;
            background-color: #1778b7;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
            position: absolute;
            text-align: inherit;
            border: 2px rebeccapurple solid;
        }

        .xbtn .px {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 30px;
            z-index: 1;
            position: absolute;
            left: 65%;
            color: white;
            /*border: 2px rebeccapurple solid;*/
            font-weight: bolder;
            top: 30%;
        }

        .xbtn .py {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 19px;
            z-index: 1;
            position: absolute;
            left: 7%;
            color: white;
            /* border: 2px #120d17 solid; */
            font-weight: bolder;
            top: -15%;
        }

        .xbtn1 .py1 {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 19px;
            z-index: 1;
            position: absolute;
            left: 7%;
            color: white;
            /* border: 2px #120d17 solid; */
            font-weight: bolder;
            top: -15%;
        }


        .xbtn .pz {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 22px;
            z-index: 1;
            width: 100%;
            position: absolute;
            background: #00ffff00;
            color: white;
            border: 2px #33409900 solid;
            font-weight: bolder;
            top: 64%;
        }

        .xbtn .btnSearch {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 21px;
            z-index: 1;
            width: 102%;
            position: absolute;
            background: #1e349a;
            color: white;
            border: 2px #334599 solid;
            font-weight: bolder;
            top: 118%;
        }


        .xbtn:hover {
            background-color: #b29eef57;
            color: #1d097a;
            font-weight: bold;
            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
        }

        /*.xdt {
            margin-top: 25px;*/

        .xset {
            width: 28%;
            height: 115px;
            border-radius: 7px;
            background-color: white;
            margin-left: 0.5%;
            display: flex;
        }

        .zset {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 14px;
            color: white;
            background-color: #1778b7;
            width: 96%;
            /*            height: 96%;*/
            border: none;
            border-radius: 7px;
            margin: 1% 1% 1% 1%;
            padding: 1%;
            font-weight: bold;
            /*ox-shadow: 0 5px 16px 0 #066816cf, 0 6px 20px 0 #304ffc26;*/
        }

        .xB1T {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            border-radius: 7px;
            font-size: 18px;
        }

        .xsetbtn {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 14px;
            color: rebeccapurple;
            margin-left: 15px;
            margin-right: 15px;
            width: 50px;
            height: 27px;
            border: 2px rebeccapurple solid;
            border-radius: 5px;
            box-shadow: 0 5px 16px 0 #363cd473, 0 6px 20px 0 #304ffc26;
        }

        .xset2 {
            width: 32%;
            height: 115px;
            border-radius: 7px;
            background-color: white;
            margin-left: 0.5%;
            display: flex;
        }

        .zset2 {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 14px;
            color: white;
            background-color: #1778b7;
            width: 96%;
            /*            height: 96%;*/
            border: none;
            border-radius: 7px;
            margin: 1% 1% 1% 1%;
            padding: 3%;
            font-weight: bold;
            /*ox-shadow: 0 5px 16px 0 #066816cf, 0 6px 20px 0 #304ffc26;*/
        }

        .Out_num {
            width: 60PX;
            height: 25px;
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 20px;
            font-weight: bold;
            border-radius: 5px;
            margin: 1%;
        }

        .table-container1 {
            width: 94.5%;
            height: 569px;
            /*margin: auto;*/
            /* margin-left: 22%; */
            margin-left: 39px;
            margin-top: 7%;
            padding: 0px;
            /* overflow-y: auto;*/
        }

        .align-items-center {
            align-items: center;
        }

        .justify-content-between {
            justify-content: space-between;
        }

        .hading {
            font-size: 20px;
            text-align: center;
            color: #f1f1f1;
            margin-bottom: 40px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

            /* a:hover {
            cursor: pointer;
            border-radius: 0px;
            background-color: #80bfa8;
            color: white;
            border: 1px solid #114a72;
        }*/

            .table thead {
                background-color: #10121c;
                border: 2.5px solid #066816cf;
            }

                .table thead tr th {
                    font-size: 13px;
                    color: #ffffff;
                    border: 1.5px solid #6ec91c85;
                }

            .table tbody tr td {
                font-size: 14px;
                letter-spacing: 0.35px;
                font-weight: normal;
                color: #000000;
                background-color: #cfedd2d6;
                padding: 4px;
                text-align: center;
                border: 1.5px solid #066816cf;
            }

            .table .text_open {
                font-size: 14px;
                font-weight: bold;
                letter-spacing: 0.35px;
                color: #FF1046;
            }

            .table table tr td .btn {
                width: 130px;
                text-decoration: none;
                line-height: 35px;
                display: inline-block;
                background-color: #ff1046;
                font-weight: medium;
                color: #ffffff;
                text-align: center;
                vertical-align: middle;
                user-select: none;
                border: 1px solid transparent;
                font-size: 14px;
                opacity: 1;
            }

        .col-sm-12,
        .col-md-12,
        .col-lg-12 {
            position: relative;
            min-height: 26px;
            padding-right: 10%;
            padding-left: 1%;
        }

        .col-md-5, col-md-7 {
            float: left;
        }




        .highcharts-data-table table {
            font-family: Verdana, sans-serif;
            border-collapse: collapse;
            border: 1px solid #ebebeb;
            margin: 10px auto;
            text-align: center;
            width: 100%;
            max-width: 500px;
        }

        .highcharts-data-table caption {
            padding: 1em 0;
            font-size: 1.2em;
            color: #555;
        }

        .highcharts-data-table th {
            font-weight: 600;
            padding: 0.5em;
        }

        .highcharts-data-table td,
        .highcharts-data-table th,
        .highcharts-data-table caption {
            padding: 0.5em;
        }

        .highcharts-data-table thead tr,
        .highcharts-data-table tr:nth-child(even) {
            background: #f8f8f8;
        }

        .highcharts-data-table tr:hover {
            background: #f1f7ff;
        }
    </style>
    <script src="~/ofline/hichart.js"></script>
    <script src="~/ofline/code_highcharts_com_modules_data.js"></script>
    <script src="~/ofline/_com_modules_drilldown.js"></script>
    <script src="~/ofline/https_code_highcharts_com_modules_variable-pie.js"></script>
    <script src="~/ofline/https-code-highcharts-com-modules-exporting.js"></script>
    <script src="~/ofline/https-code-highcharts-com-modules-export-data.js"></script>
    @* <script src="~/ofline/https-code-highcharts-com-modules-accessibility.js"></script>*@
    @* <script src="~/Scripts/Graphs/NPT.js"></script>*@

    <link href="~/Content/datatables_min.css" rel="stylesheet" />
    <script src="~/Scripts/code_jquery_com_jquery_3_5_1.js"></script>
    <script src="~/Scripts/cdn_datatables_net_1_13_4_jsjquery_dataTables_min.js"></script>

</head>
<body>
    @{ 
        string TodayN = DateTime.Now.ToString("yyyy-MM-dd");
        string YesterdayN = DateTime.Now.AddDays(-5).ToString("yyyy-MM-dd");
    }

    <div class="xcointainer">
        @*<div class="xhead">Daynamic Scheduling </div>*@
        <div class="xtopcontainer">
            @*<div class="xBtnSet">*@
            <div class="xbtn" id="xbtn1">
                <p class="py">Select Date</p>
                <input type="Date" class="xibtn" value="@YesterdayN" id="M_YesterdayN" />
                <input type="Date" class="pz" value="@TodayN" id="M_TodayN" />
                <button onclick="btnSearch()" class="btnSearch">Search</button>
            </div>
            <div class="xbtn1" id="xbtn1">
                <p class="py1">Select Oven</p>
                <input type="Date" class="xibtn1" id="M_OvenSelect" />

                <select class="xibtn1" id="SelectOven_current" onchange="Maintenance_OvenSelct(this.value)">
                    <optgroup label="701">
                        <option value="701">701</option>
                        <option value="711">711</option>
                        <option value="721">721</option>
                        <option value="731">731</option>
                        <option value="741">741</option>
                        <option value="751">751</option>
                        <option value="761">761</option>
                        <option value="771">771</option>
                    </optgroup>
                    <optgroup label="703">
                        <option value="703">703</option>
                        <option value="713">713</option>
                        <option value="723">723</option>
                        <option value="733">733</option>
                        <option value="743">743</option>
                        <option value="753">753</option>
                        <option value="763">763</option>
                        <option value="773">773</option>
                    </optgroup>
                    <optgroup label="705">
                        <option value="705">705</option>
                        <option value="715">715</option>
                        <option value="725">725</option>
                        <option value="735">735</option>
                        <option value="745">745</option>
                        <option value="755">755</option>
                        <option value="765">765</option>
                        <option value="775">775</option>
                    </optgroup>
                    <optgroup label="707">
                        <option value="707">707</option>
                        <option value="717">717</option>
                        <option value="727">727</option>
                        <option value="737">737</option>
                        <option value="747">747</option>
                        <option value="757">757</option>
                        <option value="767">767</option>
                        <option value="777">777</option>
                    </optgroup>
                    <optgroup label="709">
                        <option value="709">709</option>
                        <option value="719">719</option>
                        <option value="729">729</option>
                        <option value="739">739</option>
                        <option value="749">749</option>
                        <option value="759">759</option>
                        <option value="769">769</option>
                        <option value="779">779</option>
                    </optgroup>
                    <optgroup label="703">
                        <option value="702">702</option>
                        <option value="712">712</option>
                        <option value="722">722</option>
                        <option value="732">732</option>
                        <option value="742">742</option>
                        <option value="752">752</option>
                        <option value="762">762</option>
                        <option value="772">772</option>
                    </optgroup>
                    <optgroup label="704">
                        <option value="704">704</option>
                        <option value="714">714</option>
                        <option value="724">724</option>
                        <option value="734">734</option>
                        <option value="744">744</option>
                        <option value="754">754</option>
                        <option value="764">764</option>
                        <option value="774">774</option>
                    </optgroup>
                    <optgroup label="706">
                        <option value="706">706</option>
                        <option value="716">716</option>
                        <option value="726">726</option>
                        <option value="736">736</option>
                        <option value="746">746</option>
                        <option value="756">756</option>
                        <option value="766">766</option>
                        <option value="776">776</option>
                    </optgroup>
                    <optgroup label="708">

                        <option value="708">708</option>
                        <option value="718">718</option>
                        <option value="728">728</option>
                        <option value="738">738</option>
                        <option value="748">748</option>
                        <option value="758">758</option>
                        <option value="768">768</option>
                        <option value="778">778</option>
                    </optgroup>
                    <optgroup label="701">
                        <option value="701">701</option>
                        <option value="711">711</option>
                        <option value="721">721</option>
                        <option value="731">731</option>
                        <option value="741">741</option>
                        <option value="751">751</option>
                        <option value="761">761</option>
                        <option value="771">771</option>
                    </optgroup>
                    <optgroup label="703">
                        <option value="703">703</option>
                        <option value="713">713</option>
                        <option value="723">723</option>
                        <option value="733">733</option>
                        <option value="743">743</option>
                        <option value="753">753</option>
                        <option value="763">763</option>
                        <option value="773">773</option>
                    </optgroup>
                    <optgroup label="705">
                        <option value="705">705</option>
                        <option value="715">715</option>
                        <option value="725">725</option>
                        <option value="735">735</option>
                        <option value="745">745</option>
                        <option value="755">755</option>
                        <option value="765">765</option>
                        <option value="775">775</option>
                    </optgroup>
                    <optgroup label="707">
                        <option value="707">707</option>
                        <option value="717">717</option>
                        <option value="727">727</option>
                        <option value="737">737</option>
                        <option value="747">747</option>
                        <option value="757">757</option>
                        <option value="767">767</option>
                        <option value="777">777</option>
                    </optgroup>
                    <optgroup label="709">
                        <option value="709">709</option>
                        <option value="719">719</option>
                        <option value="729">729</option>
                        <option value="739">739</option>
                        <option value="749">749</option>
                        <option value="759">759</option>
                        <option value="769">769</option>
                        <option value="779">779</option>
                    </optgroup>
                    <optgroup label="702">
                        <option value="702">702</option>
                        <option value="712">712</option>
                        <option value="722">722</option>
                        <option value="732">732</option>
                        <option value="742">742</option>
                        <option value="752">752</option>
                        <option value="762">762</option>
                        <option value="772">772</option>
                    </optgroup>
                    <optgroup label="704">
                        <option value="704">704</option>
                        <option value="714">714</option>
                        <option value="724">724</option>
                        <option value="734">734</option>
                        <option value="744">744</option>
                        <option value="754">754</option>
                        <option value="764">764</option>
                        <option value="774">774</option>
                    </optgroup>
                    <optgroup label="706">
                        <option value="706">706</option>
                        <option value="716">716</option>
                        <option value="726">726</option>
                        <option value="736">736</option>
                        <option value="746">746</option>
                        <option value="756">756</option>
                        <option value="766">766</option>
                        <option value="776">776</option>
                    </optgroup>
                    <optgroup label="708">
                        <option value="708">708</option>
                        <option value="718">718</option>
                        <option value="728">728</option>
                        <option value="738">738</option>
                        <option value="748">748</option>
                        <option value="758">758</option>
                        <option value="768">768</option>
                        <option value="778">778</option>
                    </optgroup>

                </select>
            </div>


        </div>


        <div class="xdt" id="ViewOven">
            <div class="table-container1">

                <table class="table align-items-center justify-content-between" id="MaintenanceTable">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Oven</th>
                            <th>Maintenance Status</th>

                        </tr>
                    </thead>
                </table>
            </div>
        </div>

        <div class="xdt" id="ViewDate" hidden>
            <div class="table-container1">

                <table class="table align-items-center justify-content-between" id="MaintenanceTable_Serch">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Oven</th>
                            <th>Maintenance Status</th>

                        </tr>
                    </thead>
                </table>
            </div>
        </div>





    </div>
    <script>
        function Maintenance_OvenSelct(value) {
            $("#ViewDate").hide();
            $("#ViewOven").show();
            var SelOven = value; // Get the selected value directly from the function parameter
            MaintenanceView();

            function MaintenanceView() {
                $.ajax({
                    type: "POST",
                    url: '/Maintenance/Maintenance_Data_View/',
                    datatype: "json",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify({ Selct_Oven: SelOven }),
                    success: function (json1) {
                        var tableload = json1.html;
                        var dataset = eval("[" + tableload + "]");

                        // Initialize DataTable with options
                        $('#MaintenanceTable').DataTable({
                            ordering: false,
                            destroy: true,
                            searching: false,
                            data: dataset,
                            filter: true,
                            deferRender: true,
                            "searching": true,
                            "pageLength": 10,
                            "lengthMenu": [[10, 30, 45, 60, 75, 90, -1], [10, 30, 45, 60, 75, 90, "All"]],
                        });

                    },
                    failure: function (errMsg) {
                        // Handle the failure/error response
                        alert(errMsg);
                        location.reload(); // You need to call the reload function
                    }
                });
            }
        }

        function btnSearch() {
            var SelectToday = document.getElementById("M_TodayN").value;
            var SelectYesterday = document.getElementById("M_YesterdayN").value;
            $("#ViewDate").show();
            $("#ViewOven").hide();
         
                $.ajax({
                    type: "POST",
                   url: '/Maintenance/Maintenance_DateData_View/',
                    datatype: "json",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify({ SelectToday: SelectToday, SelectYesterday: SelectYesterday }),
                    success: function (json1) {
                        var tableload = json1.html_D;
                        var dataset = eval("[" + tableload + "]");

                        // Initialize DataTable with options
                        $('#MaintenanceTable_Serch').DataTable({
                            ordering: false,
                            destroy: true,
                            searching: false,
                            data: dataset,
                            filter: true,
                            deferRender: true,
                            "searching": true,
                            "pageLength": 10,
                            "lengthMenu": [[10, 30, 45, 60, 75, 90, -1], [10, 30, 45, 60, 75, 90, "All"]],
                        });

                    },
                    failure: function (errMsg) {
                        // Handle the failure/error response
                        alert(errMsg);
                        location.reload(); // You need to call the reload function
                    }
                });
            
        }



        $(document).ready(function () {
        var SelectOven = document.getElementById("SelectOven_current").value;
     
        $.ajax({
            type: "POST",
            url: '/Maintenance/Maintenance_Data_View/',
            datatype: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify({ Selct_Oven: SelectOven }),
            success: function (json1) {
                // Handle the successful response from the server

                var tableload = json1.html;
                var dataset = eval("[" + tableload + "]");

                // Initialize DataTable with options
                $('#MaintenanceTable').DataTable({
                    ordering: false,
                    destroy: true,
                    searching: false,
                    data: dataset,
                    filter: true,
                    deferRender: true,
                    "searching": true,
                    "pageLength": 10,
                    "lengthMenu": [[10, 30, 45, 60, 75, 90, -1], [10, 30, 45, 60, 75, 90, "All"]],
                });


            },
            failure: function (errMsg) {
                // Handle the failure/error response
                alert(errMsg);
                location.reload;
            }
        });

    })




    </script>
</body>